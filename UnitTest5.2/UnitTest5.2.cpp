#include "pch.h"
#include "CppUnitTest.h"
#define _USE_MATH_DEFINES
#include <cmath>
#include <math.h>// ??? ??????? cos() ? fabs()

extern double S(const double x, const double eps, int& n, double s);
extern double A(const double x, const int n, double a);

using namespace Microsoft::VisualStudio::CppUnitTestFramework;

namespace UnitTest52
{
	TEST_CLASS(UnitTest52)
	{
	public:

		TEST_METHOD(TestAFunction)
		{
			// ????????? ??????? ???????? ???? ??? A()
			double x = M_PI / 4;  // ???????? ?/4
			int n = 1;
			double a = 1.0;

			// ????????? ????????
			double expected = -x * x / 2;

			// ?????????, ?? ????????? ?????????? ?? ???????????
			Assert::IsTrue(fabs(A(x, n, a) - expected) < 1e-10, L"Test A failed");
		}

		TEST_METHOD(TestSFunction)
		{
			// ????????? ??????? S() ?? ???????????? ???????????? cos(?/3)
			double x = M_PI / 3;  // ???????? ?/3
			double eps = 1e-10;
			int n = 0;
			double s = 0;

			// ????????? ???????? cos(?/3)
			double expected = cos(x);

			// ?????????, ?? ????????? ?????????? ?? cos(?/3)
			Assert::IsTrue(fabs(S(x, eps, n, s) - expected) < eps, L"Test S failed");
		}
	};
}
